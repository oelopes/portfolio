---
import { Astronav, MenuIcon, MenuItems } from "astro-navbar";

import { Button } from "./ui/button";
import { Switch } from "./ui/switch";

import brTranslation from '../locales/br/translation.json';
import enTranslation from '../locales/en/translation.json';

const navbarTranslation = Astro.url.pathname === '/br' ? brTranslation.navbar : enTranslation.navbar
---

  <header class="content-grid w-full bg-zinc-950 lg:fixed lg:py-4 lg:border-b border-zinc-800 z-50">
    <div class="full-width lg:content flex flex-col lg:flex-row justify-between items-center">
      <Astronav>
        <div class="w-full flex items-center justify-between p-4 lg:p-0">
          <a href="#hero">
            <span class="text-4xl font-bold tracking-tight">oelopes</span>
          </a>

          <div class="block lg:hidden">
            <MenuIcon class="size-8" />
          </div>
        </div>

        <MenuItems class="hidden w-full border-t border-zinc-800 lg:block lg:w-auto lg:border-none">
          <ul class="flex flex-col gap-4 p-4 lg:flex-row">
            {
              navbarTranslation.menuitems.map((item) => (
                <>
                  {item && (
                    <li>
                      <a href={item.path}>
                        <span>{item.title}</span>
                      </a>
                    </li>
                  )}
                </>
              ))
            }
          </ul>

          <div class="lg:hidden flex justify-between p-4 border-t border-zinc-700">
            <a target="_blank">
              <Button variant="secondary">{navbarTranslation.actionButton}</Button>
            </a>

            <div class="flex lg:hidden items-center gap-2 pr-4">
              <span>BR</span>
              <Switch client:load />
              <span>EN</span>
            </div>
          </div>

          
        </MenuItems>

        
      </Astronav>

      <div class="hidden lg:block px-4 text-2xl text-zinc-800">|</div>

      <div class="hidden lg:flex items-center gap-2 pr-4">
        <span>BR</span>
        <Switch client:load />
        <span>EN</span>
      </div>
      
      <div class="hidden lg:block">
        <a href="https://www.linkedin.com/in/oelopes/" target="_blank">
          <Button variant="secondary">{navbarTranslation.actionButton}</Button>
        </a>
      </div>
    </div>
  </header>